load fisheriris

[coeff scores var] = pca(meas);

% var holds the eigen values, as seen component 1 is most significant...
% others can be ignored, example:

numbers = randperm(100);

scores2 = (meas(numbers(1:75),:)*coeff;

a = svmtrain(meas(numbers(1:75),:),species(numbers(1:75)));
b = svmtrain(scores2(numbers(1:75),:),species(numbers(1:75)));


test1 = svmclassify(a, meas(numbers(76:100),:));
test2 = svmclassify(a, scores2(numbers(76:100),:));

cp_non = classperf(species(numbers(76:100)),test1);
cp_PCA = classperf(species(numbers(76:100)),test2); 

regular_CCR = cp_non.CorrectRate
PCA_CCR = cp_PCA.CorrectRate